<script lang="ts">
	import * as Sheet from '$lib/components/ui/sheet';
	import Button from '$lib/components/ui/button/button.svelte';
	import { setContext } from 'svelte';
	import SidebarNav from './sidebar-nav.svelte';
	import ThemeSwitcher from '$lib/blocks/theme-switcher.svelte';

	let open = $state(false);

	let closeSidebarOnClick = () => {
		open = false;
	};

	setContext('mobile-sidebar', closeSidebarOnClick);
</script>

<div>
	<Sheet.Root {open} onOpenChange={(v) => (open = v)}>
		<Sheet.Trigger>
			{#snippet child({ props })}
				<Button size="sm" class=" " {...props}>
					<svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="2rem" viewBox="0 0 512 512"
						><path
							fill="#E59328"
							d="M484.895 397.712c0 19.926-11.381 38.147-29.371 46.716c-33.964 16.179-98.681 37.982-200.81 37.982s-166.846-21.803-200.81-37.982c-17.99-8.569-29.371-26.79-29.371-46.716c0-28.626 23.206-51.832 51.832-51.832h356.698c28.626 0 51.832 23.206 51.832 51.832"
						/><path
							fill="#7A2F18"
							d="M482.894 318.752c0-19.926-11.381-38.147-29.371-46.716c-33.964-16.179-98.681-37.982-200.81-37.982s-166.846 21.803-200.81 37.982c-17.99 8.569-29.371 26.79-29.371 46.716c0 .288.017.572.022.858c-.005.287-.022.571-.022.858c0 19.926 11.381 38.147 29.371 46.716c33.964 16.179 98.681 37.982 200.81 37.982s166.846-21.803 200.81-37.982c17.99-8.569 29.371-26.79 29.371-46.716c0-.288-.017-.572-.022-.858c.005-.287.022-.571.022-.858"
						/><ellipse cx="257.839" cy="297.676" fill="#DB1D1D" rx="211.416" ry="72.015" /><ellipse
							cx="257.839"
							cy="270.261"
							fill="#FF473E"
							rx="211.416"
							ry="72.015"
						/><path
							fill="#00B89C"
							d="M487 224.896c-24.165-13.414-59.483-18.692-90.531-18.678c-16.936.008-34.178 1.775-50.342 5.08c-12.591 2.574-24.897 5.831-37.846 7.507a102 102 0 0 1-6.515.061a79 79 0 0 1-4.445-.819c-5.368-1.803-10.466-3.914-15.669-5.931c-8.338-3.231-17.069-5.757-26.05-8.14c-15.799-4.191-32.439-6.189-49.373-7.188c-31.978-1.887-64.945 2.933-93.377 12.617a57.3 57.3 0 0 0-13.379 2.737c-29.023 9.679-53.603 25.128-70.866 43.171c-3.666 3.832-6.912 7.839-9.698 11.978c-6.073 9.023-11.521 18.304-6.134 28.282c10.086 18.683 40.229 25.499 67.958 21.115c19.126-3.024 34.04-11.309 49.039-19.147c3.76-1.782 7.652-3.408 11.757-4.802c.456-.097.911 16.816 1.37 16.728c3.846 2.308 7.468 4.774 11.399 7.026c6.696 3.837 13.86 7.534 21.478 10.564c15.601 6.207 34.26 10.182 52.617 10.07c18.755-.114 36.667-4.046 51.466-11.551c7.884-3.999 14.351-8.716 19.348-14.46c1.829-2.102 3.409-4.279 5.139-6.4c1.415.244 12.121-13.222 15.855-11.447c9.347 4.919 18.473 10.089 28.603 14.284c14.008 5.801 30.493 9.284 47.119 9.313c32.013.058 62.214-12.071 84.44-26.363c11.469-7.375 22.195-17.164 25.349-27.702c4.178-13.961-1.779-28.505-18.712-37.905m-327.815 21.859a207 207 0 0 1 20.236-3.304a225 225 0 0 1 28.153 0c8.802.995 17.406 2.512 25.77 4.568c6.634 2.096 12.867 21.624 19.216 24.039c-6.432 4.982-10.057 10.926-15.354 16.42c-.269.182-.547.359-.824.536a62 62 0 0 1-2.077.786a81 81 0 0 1-3.925.696a90 90 0 0 1-5.051-.006a102 102 0 0 1-7.483-1.399a113 113 0 0 1-11.69-4.597c-6.981-3.913-13.296-8.289-20.585-11.986c-7.872-3.991-16.809-24.149-26.386-25.753m262.632 15.694c-5.09 2.398-10.394 4.556-16.006 6.376a101 101 0 0 1-7.531 1.41a86 86 0 0 1-3.909.007a80 80 0 0 1-3.862-.708c-4.46-1.52-8.655-3.325-12.721-5.276c-4.797-2.541-9.538-5.167-14.4-7.675c6.644-1.356 13.34-2.546 20.219-3.365a213 213 0 0 1 26.283.016a199 199 0 0 1 21.33 3.632c-2.969 1.973-6.13 3.818-9.403 5.583"
						/><path
							fill="#FECB21"
							d="M115.046 332.032c-13.421-21.71-39.22-61.729-71.453-103.39c-46.314 7.86 322.798-54.356 322.798-54.356c103.076 10.857 116.691 61.853 116.743 87.853c.017 8.322-7.121 14.869-15.422 14.282c-220.82-15.635-303.498 33.657-330.73 58.702c-6.635 6.1-17.196 4.576-21.936-3.091"
						/><path
							fill="#E59328"
							d="M252.713 25.587c-123.195 0-230.181 77.808-230.181 171.53c0 49.971 103.055 90.48 230.181 90.48s230.181-40.509 230.181-90.48c0-91.071-106.986-171.53-230.181-171.53"
						/><path
							fill="#FFCD7D"
							d="m108.361 133.308l9.661 20.933a4.927 4.927 0 0 1-2.409 6.538a4.97 4.97 0 0 1-4.374-.121l-20.366-10.803c-6.198-3.288-8.558-10.978-5.27-17.176s10.978-8.558 17.176-5.27a12.66 12.66 0 0 1 5.582 5.899M312.012 59.23c-6.198-3.288-13.888-.928-17.176 5.27s-.928 13.888 5.27 17.176l20.366 10.803a4.97 4.97 0 0 0 4.374.121a4.927 4.927 0 0 0 2.409-6.538l-9.661-20.933a12.67 12.67 0 0 0-5.582-5.899m-114.6 25.743c-4.024-5.748-11.946-7.145-17.694-3.12s-7.145 11.946-3.12 17.694l13.223 18.885a4.97 4.97 0 0 0 3.84 2.097a4.93 4.93 0 0 0 5.12-4.727l.919-23.036a12.67 12.67 0 0 0-2.288-7.793m233.512 56.163c3.04-6.633.127-14.474-6.505-17.513c-6.633-3.04-14.474-.127-17.513 6.505l-7.454 16.264a5.124 5.124 0 0 0 6.132 7.041l17.134-5.15c3.485-1.065 6.568-3.574 8.206-7.147m-188.457 53.653c-6.897-1.287-13.532 3.26-14.82 10.157c-1.287 6.897 3.26 13.532 10.157 14.82l22.663 4.23a4.97 4.97 0 0 0 4.21-1.19a4.926 4.926 0 0 0 .347-6.959l-15.469-17.094a12.66 12.66 0 0 0-7.088-3.964m122.15 19.254c2.809 6.43 10.298 9.365 16.728 6.556s9.365-10.298 6.556-16.728l-9.23-21.126a4.97 4.97 0 0 0-3.35-2.815a4.927 4.927 0 0 0-5.953 3.622l-5.454 22.4a12.68 12.68 0 0 0 .703 8.091m-190.829-6.313c.806-7.05-4.256-13.418-11.306-14.224s-13.418 4.256-14.224 11.306l-2.647 23.164a4.18 4.18 0 0 0 1.068 3.281a4.153 4.153 0 0 0 5.867.249l17.169-15.773a12.84 12.84 0 0 0 4.073-8.003m116.438-41.856c6.586 2.419 13.886-.959 16.305-7.545s-.959-13.886-7.545-16.305l-21.641-7.948a4.97 4.97 0 0 0-4.35.472a4.927 4.927 0 0 0-1.502 6.804l12.404 19.433a12.66 12.66 0 0 0 6.329 5.089"
						/></svg
					>
				</Button>
			{/snippet}
		</Sheet.Trigger>
		<Sheet.Content class="z-[2000] flex h-full  flex-col justify-between overflow-auto p-0">
			<div  class='p-4'>
			<SidebarNav />

			</div>
			<div class="bg-primary-foreground sticky bottom-0 mt-auto border-t px-8 py-4">
				<div class="flex items-center justify-between gap-4">
					<a href="https://github.com/tzezar/datagrid" class="font-semibold">GITHUB</a>
					<ThemeSwitcher />
				</div>
			</div>
		</Sheet.Content>
	</Sheet.Root>
</div>
